{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/safib/Documents/Jaar 3 semester 1/Cybersecurity advanced/labo3/Scrumboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { State } from '../state';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/scrumboard.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction BoardComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \" Your storyboard is empty. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BoardComponent_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"footer\", 11)(7, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_2_div_4_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const todo_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.Delete(todo_r5.id));\n    });\n    i0.ɵɵelement(8, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_2_div_4_Template_a_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const todo_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeState(todo_r5.id, 1));\n    });\n    i0.ɵɵelement(10, \"i\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const todo_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"tag \", ctx_r2.getStyle(todo_r5.priority), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(todo_r5.estimation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", todo_r5.title, \" \");\n  }\n}\n\nfunction BoardComponent_div_2_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"footer\", 11)(7, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_2_div_8_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const prog_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.Delete(prog_r9.id));\n    });\n    i0.ɵɵelement(8, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_2_div_8_Template_a_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const prog_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.changeState(prog_r9.id, 2));\n    });\n    i0.ɵɵelement(10, \"i\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const prog_r9 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"tag \", ctx_r3.getStyle(prog_r9.priority), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(prog_r9.estimation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", prog_r9.title, \" \");\n  }\n}\n\nfunction BoardComponent_div_2_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"footer\", 11)(7, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_2_div_12_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const done_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.Delete(done_r13.id));\n    });\n    i0.ɵɵelement(8, \"i\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const done_r13 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"tag \", ctx_r4.getStyle(done_r13.priority), \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(done_r13.estimation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", done_r13.title, \" \");\n  }\n}\n\nfunction BoardComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"h1\", 6);\n    i0.ɵɵtext(3, \"Todo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, BoardComponent_div_2_div_4_Template, 11, 5, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"h1\", 6);\n    i0.ɵɵtext(7, \"In progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, BoardComponent_div_2_div_8_Template, 11, 5, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 5)(10, \"h1\", 6);\n    i0.ɵɵtext(11, \"Done\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, BoardComponent_div_2_div_12_Template, 9, 5, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.Todo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.InProgress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.Done);\n  }\n}\n\nexport class BoardComponent {\n  constructor(service) {\n    this.service = service;\n    this.stories = [];\n  }\n\n  get Todo() {\n    return this.stories.filter(story => story.state == State.Todo).sort(value => {\n      return value.priority ? -1 : 1;\n    });\n  }\n\n  getStyle(priority) {\n    if (priority) return \"is-danger\";else return \"is-success\";\n  }\n\n  get InProgress() {\n    return this.stories.filter(story => story.state == State.InProgess).sort(value => {\n      return value.priority ? -1 : 1;\n    });\n  }\n\n  get Done() {\n    return this.stories.filter(story => story.state == State.Done);\n  }\n\n  changeState(id, state) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(_this.Todo);\n      _this.stories = yield _this.service.Stories;\n\n      let newStory = _this.stories.find(story => story.id == id);\n\n      if (newStory) {\n        newStory.state = state;\n\n        _this.service.Update(id, newStory);\n      }\n    })();\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.stories = yield _this2.service.Stories;\n    })();\n  }\n\n  Delete(id) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.service.Delete(id);\n      _this3.stories = yield _this3.service.Stories;\n    })();\n  }\n\n}\n\nBoardComponent.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)(i0.ɵɵdirectiveInject(i1.ScrumboardService));\n};\n\nBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"container\", \"p-5\"], [\"class\", \"notification is-info mt-5\", 4, \"ngIf\"], [\"class\", \" columns is-8 \", 4, \"ngIf\"], [1, \"notification\", \"is-info\", \"mt-5\"], [1, \"columns\", \"is-8\"], [1, \"column\", \"has-text-centered\"], [1, \"title\"], [\"class\", \"card m-4 \", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"m-4\"], [1, \"card-content\"], [1, \"content\"], [1, \"card-footer\"], [1, \"card-footer-item\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\"], [1, \"fas\", \"fa-chevron-right\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, BoardComponent_div_1_Template, 2, 0, \"div\", 1);\n      i0.ɵɵtemplate(2, BoardComponent_div_2_Template, 13, 3, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.stories.length < 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.stories.length > 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib2FyZC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["State","i0","BoardComponent","constructor","service","Todo","stories","filter","story","state","sort","value","priority","getStyle","InProgress","InProgess","Done","changeState","id","console","log","Stories","newStory","find","Update","ngOnInit","Delete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\safib\\Documents\\Jaar 3 semester 1\\Cybersecurity advanced\\labo3\\Scrumboard\\src\\app\\board\\board.component.ts","C:\\Users\\safib\\Documents\\Jaar 3 semester 1\\Cybersecurity advanced\\labo3\\Scrumboard\\src\\app\\board\\board.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ScrumboardService, Story } from '../Services/scrumboard.service';\r\nimport {State } from '../state';\r\n\r\n@Component({\r\n  selector: 'app-board',\r\n  templateUrl: './board.component.html',\r\n  styleUrls: ['./board.component.css']\r\n})\r\nexport class BoardComponent implements OnInit {\r\n\r\n  constructor(private service : ScrumboardService) {}\r\n\r\n  stories:Story[] = []\r\n\r\n  get Todo(){\r\n    return this.stories.filter(story => story.state == State.Todo).sort(value => {return value.priority ? -1 : 1 })\r\n  }\r\n\r\n  getStyle(priority:boolean){\r\n    if(priority)\r\n      return \"is-danger\"\r\n    else\r\n      return \"is-success\"\r\n  }\r\n\r\n  get InProgress(){\r\n    return this.stories.filter(story => story.state == State.InProgess).sort(value => {return value.priority ? -1 : 1 })\r\n  }\r\n\r\n  get Done(){\r\n    return this.stories.filter(story => story.state == State.Done)\r\n  }\r\n   async changeState(id:number, state:number){\r\n     console.log(this.Todo)\r\n    this.stories = await this.service.Stories;\r\n   let newStory = this.stories.find(story => story.id == id)\r\n   if(newStory){\r\n    newStory.state = state;\r\n    this.service.Update(id, newStory);\r\n  }\r\n  }\r\n  async ngOnInit() {\r\n    this.stories = await this.service.Stories;\r\n  }\r\n\r\n  async Delete(id:number){\r\n   await this.service.Delete(id);\r\n   this.stories = await this.service.Stories;\r\n  }\r\n\r\n  \r\n}\r\n","<div class=\"container p-5\">\r\n    <div class=\"notification is-info mt-5\" *ngIf=\"stories.length < 1\">\r\n        Your storyboard is empty.\r\n    </div>\r\n    <div class=\" columns is-8 \" *ngIf=\"stories.length > 0\">\r\n        <div class=\"column has-text-centered \">\r\n            <h1 class=\"title \">Todo</h1>\r\n            <div class=\"card m-4 \" *ngFor=\"let todo of Todo \">\r\n                <div class=\"card-content \">\r\n                    <div class=\"content \">\r\n                        <span class=\"tag {{getStyle(todo.priority)}} \">{{todo.estimation}}</span> {{todo.title}}\r\n                    </div>\r\n                </div>\r\n                <footer class=\"card-footer \">\r\n                    <a class=\"card-footer-item \" (click)=\"Delete(todo.id) \"><i class=\"fas fa-trash-alt \"></i></a>\r\n                    <a class=\"card-footer-item \" (click)=\"changeState(todo.id, 1) \"><i class=\"fas fa-chevron-right \"></i></a>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n        <div class=\"column has-text-centered \">\r\n            <h1 class=\"title \">In progress</h1>\r\n            <div class=\"card m-4 \" *ngFor=\"let prog of InProgress \">\r\n                <div class=\"card-content \">\r\n                    <div class=\"content \">\r\n                        <span class=\"tag {{getStyle(prog.priority)}} \">{{prog.estimation}}</span> {{prog.title}}\r\n                    </div>\r\n                </div>\r\n                <footer class=\"card-footer \">\r\n                    <a class=\"card-footer-item \" (click)=\"Delete(prog.id) \"><i class=\"fas fa-trash-alt \"></i></a>\r\n                    <a class=\"card-footer-item \" (click)=\"changeState(prog.id, 2) \"><i class=\"fas fa-chevron-right \"></i></a>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n        <div class=\"column has-text-centered \">\r\n            <h1 class=\"title \">Done</h1>\r\n            <div class=\"card m-4 \" *ngFor=\"let done of Done \">\r\n                <div class=\"card-content \">\r\n                    <div class=\"content \">\r\n                        <span class=\"tag {{getStyle(done.priority)}}\">{{done.estimation}}</span> {{done.title}}\r\n                    </div>\r\n                </div>\r\n                <footer class=\"card-footer \">\r\n                    <a class=\"card-footer-item \" (click)=\"Delete(done.id) \"><i class=\"fas fa-trash-alt \"></i></a>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module"}