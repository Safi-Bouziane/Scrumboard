{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/safib/Documents/Jaar 3 semester 1/Cybersecurity advanced/labo3/Scrumboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/scrumboard.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction CreateStoryComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const point_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", point_r7.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", point_r7.value, \"\");\n  }\n}\n\nfunction CreateStoryComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", ctx_r5.story.title, \" \", ctx_r5.story.estimation, \" has been added to the board with id=\", ctx_r5.story.id, \" \");\n  }\n}\n\nfunction CreateStoryComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" An error has occured. The story could not be created. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class CreateStoryComponent {\n  constructor(service) {\n    this.service = service;\n    this.error = false;\n    this.selectedPoint = 0.5;\n    this.showNotification = false;\n    this.points = [];\n    this.style = \"\";\n  }\n\n  CreateBoard(title, priority) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.story = yield _this.service.Post(title, _this.selectedPoint, !priority);\n        _this.error = true;\n      } catch (error) {\n        _this.error = false;\n      }\n\n      _this.selectedPoint = 0.5;\n      _this.showNotification = true;\n      setTimeout(() => {\n        _this.showNotification = false;\n      }, 4000);\n    })();\n  }\n\n  checkDanger(bool) {\n    if (this.selectedPoint == 13 && !bool) return this.style = \"is-danger\";else return this.style = \"\";\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.service.Points.subscribe(points => {\n        _this2.points = points;\n      });\n    })();\n  }\n\n}\n\nCreateStoryComponent.ɵfac = function CreateStoryComponent_Factory(t) {\n  return new (t || CreateStoryComponent)(i0.ɵɵdirectiveInject(i1.ScrumboardService));\n};\n\nCreateStoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateStoryComponent,\n  selectors: [[\"app-create-story\"]],\n  decls: 30,\n  vars: 8,\n  consts: [[1, \"container\", \"p-5\"], [1, \"field\"], [1, \"label\"], [1, \"control\"], [\"type\", \"text\", \"placeholder\", \"Story title\", 1, \"input\", 3, \"change\"], [\"title\", \"\"], [1, \"select\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"radio\"], [\"type\", \"radio\", \"name\", \"answer\", \"value\", \"false\", 3, \"checked\", \"change\"], [\"low\", \"\"], [\"type\", \"radio\", \"name\", \"answer\", \"value\", \"true\", 3, \"checked\", \"change\"], [\"high\", \"\"], [\"disabled\", \"\", 1, \"button\", \"is-primary\", 3, \"click\"], [\"btn\", \"\"], [\"class\", \"notification is-primary mt-5 \", 4, \"ngIf\"], [\"class\", \"notification is-danger mt-5 \", 4, \"ngIf\"], [3, \"value\"], [1, \"notification\", \"is-primary\", \"mt-5\"], [1, \"notification\", \"is-danger\", \"mt-5\"]],\n  template: function CreateStoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r8 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4, 5);\n      i0.ɵɵlistener(\"change\", function CreateStoryComponent_Template_input_change_5_listener() {\n        i0.ɵɵrestoreView(_r8);\n\n        const _r4 = i0.ɵɵreference(26);\n\n        const _r0 = i0.ɵɵreference(6);\n\n        return i0.ɵɵresetView(_r4.disabled = _r0.value.length < 1);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 1)(8, \"label\", 2);\n      i0.ɵɵtext(9, \"Estimation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"select\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateStoryComponent_Template_select_ngModelChange_11_listener($event) {\n        return ctx.selectedPoint = $event;\n      })(\"change\", function CreateStoryComponent_Template_select_change_11_listener() {\n        return ctx.checkDanger(false);\n      });\n      i0.ɵɵtemplate(12, CreateStoryComponent_option_12_Template, 2, 2, \"option\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"strong\");\n      i0.ɵɵtext(14, \"Priority:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 9)(17, \"input\", 10, 11);\n      i0.ɵɵlistener(\"change\", function CreateStoryComponent_Template_input_change_17_listener() {\n        return ctx.checkDanger(true);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \" Low \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\", 9)(21, \"input\", 12, 13);\n      i0.ɵɵlistener(\"change\", function CreateStoryComponent_Template_input_change_21_listener() {\n        return ctx.checkDanger(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \" High \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(24, \"br\");\n      i0.ɵɵelementStart(25, \"button\", 14, 15);\n      i0.ɵɵlistener(\"click\", function CreateStoryComponent_Template_button_click_25_listener() {\n        i0.ɵɵrestoreView(_r8);\n\n        const _r0 = i0.ɵɵreference(6);\n\n        const _r2 = i0.ɵɵreference(18);\n\n        return i0.ɵɵresetView(ctx.CreateBoard(_r0.value, _r2.checked));\n      })(\"click\", function CreateStoryComponent_Template_button_click_25_listener() {\n        i0.ɵɵrestoreView(_r8);\n\n        const _r4 = i0.ɵɵreference(26);\n\n        return i0.ɵɵresetView(_r4.disabled = true);\n      })(\"click\", function CreateStoryComponent_Template_button_click_25_listener() {\n        i0.ɵɵrestoreView(_r8);\n\n        const _r0 = i0.ɵɵreference(6);\n\n        return i0.ɵɵresetView(_r0.value = \"\");\n      });\n      i0.ɵɵtext(27, \"Create\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(28, CreateStoryComponent_div_28_Template, 2, 3, \"div\", 16);\n      i0.ɵɵtemplate(29, CreateStoryComponent_div_29_Template, 2, 0, \"div\", 17);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassMap(ctx.style);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedPoint);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.points);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"checked\", ctx.selectedPoint <= 2);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"checked\", ctx.selectedPoint > 2);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.showNotification && ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showNotification && !ctx.error);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".redborder[_ngcontent-%COMP%] {\\r\\n    border: 2px solid red;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1zdG9yeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJjcmVhdGUtc3RvcnkuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4ucmVkYm9yZGVyIHtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CreateStoryComponent","constructor","service","CreateBoard","title","priority","story","Post","selectedPoint","error","showNotification","setTimeout","checkDanger","bool","style","ngOnInit","Points","subscribe","points","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\safib\\Documents\\Jaar 3 semester 1\\Cybersecurity advanced\\labo3\\Scrumboard\\src\\app\\create-story\\create-story.component.html","C:\\Users\\safib\\Documents\\Jaar 3 semester 1\\Cybersecurity advanced\\labo3\\Scrumboard\\src\\app\\create-story\\create-story.component.ts"],"sourcesContent":["<div class=\"container p-5\">\r\n    <div class=\"field\">\r\n        <label class=\"label\">Title</label>\r\n        <div class=\"control\">\r\n            <input class=\"input\" type=\"text\" placeholder=\"Story title\" #title [class]=\"style\" (change)=\"btn.disabled = title.value.length < 1\">\r\n        </div>\r\n    </div>\r\n    <div class=\"field\">\r\n        <label class=\"label\">Estimation</label>\r\n        <div class=\"select\">\r\n            <select [(ngModel)]=\"selectedPoint\" (change)=\"checkDanger(false)\">\r\n                <option *ngFor=\"let point of points\" [value]=\"point.value\"> {{point.value}}</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n\r\n    <strong>Priority:</strong>\r\n    <div class=\"control\">\r\n        <label class=\"radio\">\r\n            <input type=\"radio\" name=\"answer\" value=\"false\" [checked]=\"selectedPoint <= 2\" #low (change)=\"checkDanger(true)\">\r\n            Low\r\n        </label>\r\n        <label class=\"radio\">\r\n            <input type=\"radio\" name=\"answer\" value=\"true\"  [checked]=\"selectedPoint > 2\"  #high (change)=\"checkDanger(false)\">\r\n            High\r\n\r\n        </label>\r\n    </div>\r\n    <br>\r\n    <button #btn class=\"button is-primary\" disabled (click)=\"CreateBoard(title.value, low.checked)\" (click)=\"btn.disabled = true\" (click)=\"title.value = ''\">Create</button>\r\n    <div class=\"notification is-primary mt-5 \" *ngIf=\"showNotification && error\">\r\n        {{story.title}} {{story.estimation}} has been added to the board with id={{story.id}}\r\n    </div>\r\n    <div class=\"notification is-danger mt-5 \" *ngIf=\"showNotification && !error\">\r\n        An error has occured. The story could not be created.\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Point, ScrumboardService } from '../Services/scrumboard.service';\r\n\r\n@Component({\r\n  selector: 'app-create-story',\r\n  templateUrl: './create-story.component.html',\r\n  styleUrls: ['./create-story.component.css']\r\n})\r\nexport class CreateStoryComponent implements OnInit {\r\n\r\n  constructor(private service: ScrumboardService ) { }\r\n\r\n  error = false\r\n  story:any;\r\n  selectedPoint:number = 0.5;\r\n  showNotification = false;\r\n  points:Point[] = []\r\n  style = \"\"\r\n\r\n async CreateBoard( title:string, priority:boolean){\r\n  try {\r\n    this.story = (await this.service.Post(title,this.selectedPoint,!priority));\r\n    this.error = true\r\n  } catch (error) {\r\n    this.error = false\r\n  }\r\n    this.selectedPoint = 0.5;\r\n    this.showNotification = true;\r\n    setTimeout(()=>{\r\n      this.showNotification = false;\r\n    },4000)   \r\n  }\r\n\r\n  checkDanger(bool:boolean){\r\n    if(this.selectedPoint == 13 && !bool)\r\n      return this.style = \"is-danger\";\r\n    else\r\n      return this.style =\"\";\r\n  }\r\n  async ngOnInit() {\r\n    this.service.Points.subscribe(points => {this.points = points});\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}